(this["webpackJsonpmonday-integration-quickstart-app"]=this["webpackJsonpmonday-integration-quickstart-app"]||[]).push([[0],{104:function(e,n,t){},105:function(e,n,t){},126:function(e,n,t){},132:function(e,n,t){},134:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(20),c=t.n(i),o=(t(104),t(22)),l=t(29),s=t(26),u=t(25),m=t(64),d=(t(105),t(11)),b=t(88),v=t(91),p=t.n(v),E=Object(d.makeVar)(),O=Object(d.makeVar)(),f=t(47);function h(){var e=Object(f.a)(["\n    query Me($ids: [Int!]) {\n      me {\n        id\n        name\n      }\n      boards(ids: $ids) {\n        items {\n          name\n          subscribers {\n            id\n          }\n          group {\n            id\n            title\n          }\n        }\n      }\n    }\n  "]);return h=function(){return e},e}function j(){var e=Object(f.a)(["\n    query Me {\n      me {\n        id\n        name\n        photo_original\n      }\n    }\n  "]);return j=function(){return e},e}function y(){var e=Object(f.a)(["\n    query BoardSubscribers($ids: [Int!]) {\n      boards(ids: $ids) {\n        subscribers {\n          id\n          name\n        }\n      }\n    }\n  "]);return y=function(){return e},e}function g(){var e=Object(f.a)(["\n    query BoardName($ids: [Int!]) {\n      me {\n        id\n        name\n        photo_original\n      }\n      boards(ids: $ids) {\n        name\n      }\n    }\n  "]);return g=function(){return e},e}var k={BOARD:Object(d.gql)(g()),SUBSCRIBERS:Object(d.gql)(y()),CURRENT_USER:Object(d.gql)(j()),USERS_ITEMS:Object(d.gql)(h())},w=(t(126),t(96)),I=t(92),N=t(93),S=t(65);var M=function(){var e=Object(S.b)((function(){return{opacity:0}})),n=Object(w.a)(e,3),t=n[0],a=n[1],i=n[2],c=Object(d.useQuery)(k.USERS_ITEMS,{variables:{ids:O()}}),o=c.loading,l=c.error,s=c.data;if(o)return null;if(l)return r.a.createElement("p",null,"Error :(");var u=E(s.me.id);return r.a.createElement("div",{className:"my-items"},r.a.createElement(I.a,null,r.a.createElement(N.a,null,r.a.createElement("h4",null,"My Items"),r.a.createElement("div",{className:"item-list"},function(e){var n=[];return e.boards[0].items.map((function(e,a){e.subscribers.map((function(i){u===i.id&&n.push(r.a.createElement(S.a.p,{key:a,style:t},e.name))}))})),a({opacity:1}),i(),n}(s)))))},J=t(154),q=t(153);var D=function(){var e=Object(d.useQuery)(k.BOARD,{variables:{ids:O()}}),n=e.loading,t=e.error,a=e.data;return n?null:t?r.a.createElement("p",null,"Error :("):r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,a.boards[0].name),r.a.createElement("div",{className:"profile"},r.a.createElement(q.a,{title:a.me.name,placement:"left"},r.a.createElement(J.a,{className:"avatar",alt:a.me.name,src:a.me.photo_original})))),r.a.createElement(M,null))},R=p()();O([0]);var A=Object(d.createHttpLink)({uri:"https://api.monday.com/v2/"}),B=Object(b.a)((function(e,n){var t=n.headers,a="eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjU4NzkyNDMyLCJ1aWQiOjE0OTcwODg2LCJpYWQiOiIyMDIwLTA3LTExVDE3OjUxOjA2LjAwMFoiLCJwZXIiOiJtZTp3cml0ZSJ9.uC-owvux2QA0OdtWec5QcxxMNMFNtDWPDtHsyRkz3DQ";return{headers:Object(m.a)(Object(m.a)({},t),{},{authorization:"Bearer ".concat(a)})}})),C=new d.ApolloClient({link:B.concat(A),cache:new d.InMemoryCache}),Q=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(e){var a;return Object(o.a)(this,t),(a=n.call(this,e)).state={settings:{},name:"",triggerEvent:null},a}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;R.get("context").then((function(e){O(e.data.boardIds[0])}));R.listen("events",(function(n){e.setState({triggerEvent:n.data})}))}},{key:"render",value:function(){return r.a.createElement(d.ApolloProvider,{client:C},r.a.createElement("div",{className:"App"},r.a.createElement(D,{key:this.state.triggerEvent})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(131),t(132);c.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,n,t){e.exports=t(134)}},[[99,1,2]]]);
//# sourceMappingURL=main.9c6f5612.chunk.js.map